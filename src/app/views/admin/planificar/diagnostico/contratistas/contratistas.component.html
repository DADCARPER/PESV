<form [formGroup]="formcontratista" (ngSubmit)="onSubmitContratista()">
    
    <!-- <div *ngIf="valores">
      <strong>{{valores.municipio}}</strong>
    </div>
    <div *ngFor="let valor of valores">
      <h1>{{valor.municipio}}</h1>
    </div> -->
    <div class="flex flex-wrap">

      <div class="w-full lg:w-3/12  rounded-lg border border-gray-100 bg-white p-2 shadow-sm">

        <h6 class="w-full lg:w-12/12 px-2 text-blueGray-400 text-sm mt-2 mb-4 font-bold uppercase">
          Información empresarial - sedes
        </h6>

        <div class="w-full lg:w-12/12 px-2">
          <div class="relative w-full mb-3">
            <label
              class="block uppercase text-blueGray-600 text-xs font-bold mb-2"
              htmlFor="grid-password"
            >
              Nombre de la sede
            </label>
            <input formControlName="nombreSede"
              type="text"
              class="mt-1 w-full rounded-md border-blueGray-300 shadow-sm sm:text-sm"
            />
            <div *ngIf="formcontratista.get('nombreSede')?.invalid && formcontratista.get('nombreSede')?.touched">
              <small class="text-red-500">El campo es obligatorio</small>
            </div>
          </div>
        </div>
        <div class="w-full lg:w-12/12 px-2">
        
          <label for="departa" class="block uppercase text-blueGray-600 text-xs font-bold mb-2"> Departamentos </label>
        
          <select
            formControlName="departamento"
            id="departa"
            class="mt-1 py-2.5 w-full rounded-md border-blueGray-300 shadow-sm sm:text-sm"
            style="max-height: 180px; overflow-y: auto;"
          >
            <option value="" disabled selected>Seleccione Departamento</option>
            <option value="Ocasional">Ocasional</option>
            <option value="Permanente">Permanente</option>
          </select>
          <div *ngIf="formcontratista.get('departamento')?.invalid && formcontratista.get('departamento')?.touched">
            <small class="text-red-500">El campo es obligatorio</small>
          </div>
          
        </div>
        <div class="w-full lg:w-12/12 px-2">
          
        </div>
        <div class="w-full lg:w-12/12 px-2">
          <div class="relative w-full mb-3">
            <label
              class="block uppercase text-blueGray-600 text-xs font-bold mb-2"
              htmlFor="grid-password"
            >
              Telefono
            </label>
            <input formControlName="telefono"
              type="text"
              class="mt-1 w-full rounded-md border-blueGray-300 shadow-sm sm:text-sm"
              value="United States"
            />
          </div>
        </div>
        <div class="w-full lg:w-12/12 px-2">
          <div class="relative w-full mb-3">
            <label
              class="block uppercase text-blueGray-600 text-xs font-bold mb-2"
              htmlFor="grid-password"
            >
              Actividad de la sede
            </label>
            <input formControlName="actividadEmpresa"
              type="text"
              class="mt-1 w-full rounded-md border-blueGray-300 shadow-sm sm:text-sm"
            />
          </div>
        </div>
        <div class="w-full lg:w-12/12 px-2">
          <div class="relative w-full mb-3">
            <label
              class="block uppercase text-blueGray-600 text-xs font-bold mb-2"
              htmlFor="grid-password"
            >
              Dirección
            </label>
            <input formControlName="direccion"
              type="text"
              class="mt-1 w-full rounded-md border-blueGray-300 shadow-sm sm:text-sm"
            />
          </div>
        </div>

        <div class="flex justify-center pb-4">
          <button type="button" 
            class="text-amber-500 bg-white border-amber-500 hover:bg-amber-500 hover:text-white border border-solid font-bold uppercase text-sm px-6 py-3 rounded-full outline-none focus:outline-none mr-1 mb-1 mt-4 ease-linear transition-all duration-150">
            <i class="fas fa-chart-bar mr-1"></i> Agregar a lista
          </button>
        </div>

      </div>

      <div class="w-full lg:w-9/12 px-2">

        <div class="w-full lg:w-12/12 overflow-hidden rounded-lg bg-white shadow">
          <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200">
              <thead class="bg-gray-50">
                <tr>
                  <th class="px-6 py-3 text-left text-sm font-semibold text-gray-900">
                    #
                  </th>
                  <th class="px-6 py-3 text-left text-sm font-semibold text-gray-900">
                    Sede
                  </th>
                  <th class="px-6 py-3 text-left text-sm font-semibold text-gray-900">
                    Actividad
                  </th>
                  <th class="px-6 py-3 text-left text-sm font-semibold text-gray-900">
                    Ubicación y contacto
                  </th>
                  <th class="px-6 py-3 text-left text-sm font-semibold text-gray-900">
                    Acción
                  </th>
                </tr>
              </thead>
              <tbody *ngIf="listaContratistas.length > 0; else noData" class="divide-y divide-gray-200 bg-white">
                <tr *ngFor="let contratista of listaContratistas; let i = index" class="transition-colors hover:bg-gray-50">
                  <td class="whitespace-nowrap px-6 py-4 text-sm text-gray-700">{{i+1}}</td>
                  <td class="whitespace-normal px-6 py-4 text-sm text-gray-700 w-[10%]"> {{ contratista.nombreSede }}</td>
                  <td class="whitespace-normal px-6 py-4 text-sm text-gray-700 w-[30%]">{{ contratista.actividadEmpresa }}</td>
                  <td class="whitespace-normal px-6 py-4 text-sm text-gray-700 w-[50%]">{{ contratista.nombreDepartamento }}<br>{{ contratista.municipio }}<br>{{ contratista.direccion }}<br>Contacto : {{ contratista.telefono }}</td>
                  
                  <td class="w-[10%]">
                    <button type="button"  >Eliminar</button> <!-- Botón para eliminar -->
                  </td>
  
                </tr>
              </tbody>
              <ng-template #noData>
                <tbody class="divide-y divide-gray-200 bg-white">
                  <tr>
                    <td colspan="8" class="px-6 py-4 text-sm text-center text-gray-500">
                      No hay datos disponibles
                    </td>
                  </tr>
                </tbody>
              </ng-template>
            </table>
          </div>
        </div>

        

      </div>
      
    </div>

    

    <div class="flex justify-center">

      

    </div>

    

    
  </form>